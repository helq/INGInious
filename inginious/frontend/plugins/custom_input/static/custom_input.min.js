function getTaskIdFromUrl(){let t=window.location.pathname.split("/");return t[t.length-1]}function getCourseIdFromUrl(){let t=window.location.pathname.split("/");return t[t.length-2]}function displayCustomTestAlertError(t){displayTaskStudentAlertWithProblems(t,"danger")}function runCustomTest(t){let s=$("#customoutput-"+t),e="<span class='placeholder-text'>Your output goes here</span>",r=new FormData($("form#task")[0]);r.set("submit_action","customtest"),r.set("courseid",getCourseIdFromUrl()),r.set("taskid",getTaskIdFromUrl()),blurTaskForm(),resetAlerts(),s.html("Running..."),$.ajax({url:"/api/custom_input/",method:"POST",dataType:"json",data:r,processData:!1,contentType:!1,success:function(t){if(t=JSON.parse(t),s.empty(),"status"in t&&"done"==t.status){if("result"in t){let e=t.result,r=$("<span/>").addClass("stdout-text").text(t.stdout),o=$("<span/>").addClass("stderr-text").text(t.stderr);s.append(r),s.append(o),"failed"==e?displayCustomTestAlertError(t):"timeout"==e?displayTimeOutAlert(t):"overflow"==e?displayOverflowAlert(t):"success"!=e&&displayCustomTestAlertError(t)}}else"status"in t&&"error"==t.status?(s.html(e),displayCustomTestAlertError(t)):(s.html(e),displayCustomTestAlertError({}));unblurTaskForm()},error:function(t){unblurTaskForm(),s.html(e)}})}